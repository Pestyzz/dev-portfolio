---
import Layout from '../layouts/Layout.astro';
import SocialPill from '../components/SocialPill.astro';
import Section from '../components/Section.astro';
import Card from '../components/Card.astro';
import Image from 'astro/components/Image.astro';
import Picture from '/public/images/Picture.jpeg';

import MailIcon from '../assets/icons/Mail.svg';
import LinkedInIcon from '../assets/icons/LinkedIn.svg';
import GithubIcon from '../assets/icons/Github.svg';
import ProjectsIcon from '../assets/icons/Projects.svg';
import SkillsIcon from '../assets/icons/Skills.svg';
import AboutIcon from '../assets/icons/About.svg';

import { PROJECTS } from '../consts/projects';
import { SKILLS } from '../consts/skills';
---
<Layout>
	<main class="flex flex-col mt-[170px] px-80 py-5 justify-start items-center gap-36">
		<section class="self-stretch inline-flex justify-between items-center">
			<div class="flex flex-col">
				<h1 class="text-white text-6xl font-medium">Hey, I'm Bastián Ñiripil</h1>
				<h4 class="text-stone-300 text-3xl text-wrap">
					<span class="text-lime-300">Computer Engineering Student</span> in Duoc UC. Aspiring Web Developer from Concepción, Chile <span class="text-xl">CL</span>.
				</h4>
				<nav class="flex items-center mt-[30px] gap-7">
					<SocialPill href="mailto:bastiniripil@gmail.com">
						<MailIcon class="size-6 text-lime-300 group-hover:text-[#22053B] transition-colors duration-200" />
						<span>Mail me</span>
					</SocialPill>
					
					<SocialPill href="https://github.com/pestyzz">
						<GithubIcon class="size-6 text-lime-300 group-hover:text-[#22053B] transition-colors duration-200" />
						<span>GitHub</span>
					</SocialPill>
					<SocialPill href="https://cl.linkedin.com/in/bastian-%C3%B1iripil">
						<LinkedInIcon class="size-6 text-lime-300 group-hover:text-[#22053B] transition-colors duration-200" />
						<span>LinkedIn</span>
					</SocialPill>
					<!-- <SocialPill href="" download>
						<DownloadIcon class="size-6 text-lime-300" />
						<span>CV</span>
					</SocialPill> -->
				</nav>
			</div>
			<Image class="w-100 origin-top-left rotate-[1.92deg] rounded-[40px] shadow-[8px_8px_12px_0px_rgba(0,0,0,0.25)] border-[15px] border-neutral-900 mouse-follow" src={Picture} alt="MyPicture" loading="lazy" />
			<script>
				const mouseFollowElements = document.querySelectorAll<HTMLElement>('.mouse-follow');
				
				mouseFollowElements.forEach(element => {
					const followMouse = (e: MouseEvent) => {
						const rect = element.getBoundingClientRect();
						const x = e.clientX - rect.left;
						const y = e.clientY - rect.top;
						
						const centerX = rect.width / 2;
						const centerY = rect.height / 2;
						
						const rotateX = (y - centerY) / centerY * 20;
						const rotateY = (x - centerX) / centerX * 20;
						
						element.style.transform = `perspective(1000px) rotateX(${-rotateX}deg) rotateY(${rotateY}deg)`;
					};
					
					element.addEventListener('mousemove', followMouse);
					element.addEventListener('mouseleave', () => {
						element.style.transform = '';
					});
				});
			</script>
		</section>
		<Section id="projects">
			<ProjectsIcon slot="icon" class="size-10 text-lime-300"/>
			<Fragment slot="title">Projects</Fragment>
			<div class="grid grid-cols-2 gap-7 w-full">
				{PROJECTS.map((project) => (
					<Card
						key={project.id}
						title={project.title}
						description={project.description}
						image={project.image}
						techs={project.tech}
						repository={project.repository}
					/>
				))}
			</div>
		</Section>
		<Section id="skills">
			<SkillsIcon slot="icon" class="size-10 text-lime-300" />
			<Fragment slot="title">Skills</Fragment>
			<div class="flex justify-center items-center flex-wrap px-5 pt-10 pb-6 gap-7 outline-2 outline-lime-300 rounded-[30px] bg-neutral-900">
				{SKILLS.map((skill: { name: string, logo: any }) => (
					<div class="group flex flex-col justify-center items-center">
						<skill.logo class="size-24 group-hover:scale-105 transition-all duration-300" />
						<span class="opacity-0 translate-y-0 text-stone-300 text-lg font-medium group-hover:translate-y-2 group-hover:opacity-100 transition-all duration-300">{skill.name}</span>
					</div>
				))}
			</div>
		</Section>
		<Section id="about">
			<AboutIcon slot="icon" class="size-10 text-lime-300" />
			<Fragment slot="title">About me</Fragment>
			<div class="flex flex-col items-start text-stone-300 text-3xl font-medium text-pretty prose">
				<p>
					Lorem ipsum dolor sit amet, consectetur adipiscing elit. Praesent commodo vel arcu non placerat. Interdum et malesuada fames ac ante ipsum primis in faucibus. In a pulvinar elit. Suspendisse potenti.
				</p>
				<p>
					Nunc varius libero felis, a viverra sem tincidunt luctus. In hac habitasse platea dictumst. Proin sed eleifend nisl. Donec sed leo vitae est scelerisque ultrices. Donec dignissim vitae arcu a luctus.
				</p>
			</div>
		</Section>
	</main>
</Layout>